<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Accelerator Schedule</title>
    <link rel="manifest" href="/manifest.json"> <!-- PWA Manifest -->
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* background-color is now handled by Tailwind classes */
        }
        .current-day {
            /* Prominent highlight for today (Emerald Green) */
            border-color: #10b981; 
            box-shadow: 0 10px 20px -5px rgba(16, 185, 129, 0.5); 
            transform: translateY(-1px);
        }
        /* Ensure the progress bar starts at 0 height to prevent CLS */
        .progress-bar-inner {
            transition: width 0.5s ease-in-out;
            height: 100%;
        }
        /* Style for the SVG Progress Ring */
        .progress-ring-arc {
            transition: stroke-dashoffset 0.5s ease-in-out;
            stroke-linecap: round;
        }
        .toggle-active {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }

        /* Dark-mode visual overrides for generated content (do NOT change JS) */
        /* Card backgrounds inside #schedule-list */
        #schedule-list > div {
            background-color: #1f2937 !important; /* gray-800 */
            color: #e5e7eb !important; /* text-gray-200 */
            border-color: #374151 !important; /* gray-700 */
        }

        /* Inner list items (task rows) */
        #schedule-list li {
            background-color: rgba(31,41,55,0.6) !important; /* gray-800 slightly transparent */
            border-color: rgba(55,65,81,0.6) !important; /* gray-700 */
            color: #e5e7eb !important;
        }

        /* Dashboard stat cards */
        #dashboard > div {
            background-color: #1f2937 !important; /* gray-800 */
            color: #e5e7eb !important;
            border-color: #374151 !important; /* gray-700 */
        }

        /* Modal inner containers and form inputs */
        #reset-modal, #customize-modal, #customize-modal .day-section, .day-section {
            background-color: #1f2937 !important; /* gray-800 */
            color: #e5e7eb !important;
            border-color: #374151 !important; /* gray-700 */
        }

        #customize-modal input, #customize-modal textarea, .day-section input, .day-section select, .task-row input, .task-row select {
            background-color: #111827 !important; /* gray-900 */
            color: #e5e7eb !important;
            border-color: #1f2937 !important; /* gray-800 */
        }

        /* Ensure textareas in day cards are darker */
        #schedule-list textarea {
            background-color: #111827 !important; /* gray-900 */
            color: #e5e7eb !important;
            border-color: #374151 !important;
        }
    </style>
    <script>
        // Immediately set theme to avoid FOUC (Flash of Unstyled Content)
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="min-h-screen bg-gray-800 text-gray-200 transition-colors duration-300">

    <!-- Single column layout -->
    <div class="min-h-screen">

        <!-- Main content -->
        <main class="max-w-4xl mx-auto p-4">

            <!-- Header -->
            <header class="text-center my-6 p-6 bg-gray-900/60 rounded-xl text-gray-200 border border-gray-800">
                <h1 class="text-2xl md:text-4xl font-extrabold tracking-tight bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent">DSA Acceleration Roadmap</h1>
                <p class="mt-2 text-lg font-light text-gray-400 hidden md:block">Your personalized, daily DSA roadmap.</p>

                <!-- Controls moved to footer -->
            </header>

            <!-- Progress Dashboard -->
            <section id="dashboard" class="grid grid-cols-1 md:grid-cols-3 gap-4 px-4 mb-6">
                <!-- Total Progress with Progress Ring -->
                <div class="bg-gray-900/60 p-6 rounded-xl shadow border border-gray-800 text-center flex items-center justify-between">
                    <div class="text-left flex-1">
                        <p class="text-xs font-semibold uppercase text-gray-400">Overall Progress</p>
                        <p id="total-progress-text" class="text-2xl sm:text-3xl font-bold text-violet-400 mt-1">0%</p>
                        <p id="total-progress-count" class="text-sm text-gray-500 mt-1">0/0 Tasks</p>
                    </div>
                    <!-- SVG Progress Ring -->
                    <svg width="64" height="64" viewBox="0 0 100 100" class="flex-shrink-0">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="#1f2937" stroke-width="10"/>
                        <circle cx="50" cy="50" r="45" fill="none" stroke="#8b5cf6" stroke-width="10"
                                stroke-dasharray="282.7" stroke-dashoffset="282.7"
                                transform="rotate(-90 50 50)" id="progress-ring-arc" class="progress-ring-arc"/>
                    </svg>
                </div>
                <!-- Current Streak -->
                <div class="bg-gray-900/60 p-6 rounded-xl shadow border border-gray-800 text-center">
                    <p class="text-xs font-semibold uppercase text-gray-400">Current Streak</p>
                    <p id="current-streak" class="text-3xl md:text-4xl font-bold text-emerald-400 mt-2">0</p>
                    <p class="text-sm text-gray-500 mt-1">Days</p>
                </div>
                <!-- Days Scheduled -->
                <div class="bg-gray-900/60 p-6 rounded-xl shadow border border-gray-800 text-center">
                    <p class="text-xs font-semibold uppercase text-gray-400">Total Roadmap</p>
                    <p id="days-scheduled" class="text-3xl md:text-4xl font-bold text-blue-400 mt-2">60</p>
                    <p class="text-sm text-gray-500 mt-1">Days Planned</p>
                </div>
            </section>

            <!-- Main App Content -->
            <div id="app" class="pt-4 pb-16">
                <!-- Loading & Error Status -->
                <div id="status-message" class="bg-yellow-900/30 border border-yellow-700/50 text-yellow-200 p-4 mb-6 hidden rounded-xl" role="alert">
                    <p class="font-medium text-yellow-400">Loading Data...</p>
                    <p id="status-text" class="mt-1 text-yellow-200/80 text-sm">Connecting to the database and loading your progress.</p>
                </div>

                <!-- Schedule List -->
                <div id="schedule-list" class="space-y-6 px-4">
                    <!-- Schedule items will be dynamically injected here -->
                </div>
            </div>

            <!-- Footer -->
            <footer class="bg-gradient-to-t from-gray-900/90 to-gray-900/70 border-t border-gray-800 py-6 mt-8 shadow-lg">
                <div class="max-w-4xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4">
                    <div class="text-sm text-gray-300 text-center md:text-left">
                        <p class="font-semibold">DSA Acceleration Roadmap</p>
                        <p class="text-xs text-gray-500">Made by Diwakar Mishra • © 2025</p>
                    </div>

                    <div class="flex items-center gap-2">
                        <button id="customize-btn" onclick="window.showCustomizeModal()" class="px-3 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 transition">Customize</button>
                        <button id="download-report-btn" onclick="window.downloadReport()" class="px-3 py-2 bg-gray-700 text-gray-100 rounded-md hover:bg-gray-600 transition">Download</button>
                        <button id="reset-progress-btn" onclick="window.showResetModal()" class="px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition">Reset</button>
                        <button id="theme-toggle" type="button" class="p-2 rounded-md bg-gray-800 text-gray-300 hover:bg-gray-700 transition">
                            <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                            <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05a1 1 0 00-1.414 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                        </button>
                    </div>

                    <!-- Footer links removed per request -->
                </div>
            </footer>

        </main>

    <!-- 1. Reset Confirmation Modal -->
    <div id="reset-modal" class="hidden bg-black bg-opacity-75 p-4">
        <div class="bg-gray-900 text-gray-100 p-8 rounded-xl shadow-2xl max-w-sm w-full border border-gray-700 mx-auto mt-8">
            <h3 class="text-xl font-bold text-red-400 mb-4">Confirm Reset</h3>
            <p class="text-gray-300 mb-6">Are you sure you want to reset all your DSA progress? This action cannot be undone.</p>
            <div class="flex justify-end space-x-3">
                <button onclick="window.hideResetModal()" class="px-4 py-2 bg-gray-700 text-gray-200 font-medium rounded-lg hover:bg-gray-600 transition">
                    Cancel
                </button>
                <button onclick="window.resetProgress()" class="px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition">
                    Yes, Reset
                </button>
            </div>
        </div>
    </div>
    
    <!-- 2. Customize Schedule Modal -->
    <div id="customize-modal" class="hidden bg-black bg-opacity-75 p-4">
        <div class="bg-gray-900 p-8 rounded-2xl shadow-2xl max-w-4xl w-full text-gray-100 border border-gray-700 mx-auto mt-8">
            <div class="flex justify-between items-center mb-6 border-b border-gray-700 pb-3">
                <h3 class="text-2xl font-extrabold text-white">Customize DSA Schedule (Max 30 Days)</h3>
                <button onclick="window.hideCustomizeModal()" class="text-gray-400 hover:text-white text-2xl font-bold">&times;</button>
            </div>

            <p class="text-sm text-gray-300 mb-4">You can override or extend the schedule. **Note:** Only the structure is saved; task completion status is separate. You can edit up to 30 days at a time.</p>
            
            <form id="schedule-form" onsubmit="window.saveCustomSchedule(event)">
                <div id="days-container" class="space-y-6">
                    <!-- Custom day fields will be inserted here -->
                </div>
                
                <div class="flex justify-between items-center mt-6 pt-4 border-t">
                    <div class="flex-shrink-0">
                        <button type="button" id="add-day-btn" onclick="window.addDaySection()" class="px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-500 transition duration-200 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" /></svg>
                            Add New Day
                        </button>
                        <p id="customize-limit-message" class="text-xs text-red-500 mt-2 hidden">Maximum limit reached. Save to continue adding more days.</p>
                    </div>
                    <button type="submit" class="px-6 py-3 bg-emerald-500 text-white font-bold rounded-lg shadow-md hover:bg-emerald-600 transition duration-200">
                        Save Custom Schedule
                    </button>
                </div>
            </form>
        </div>
    </div>


    <!-- Local Storage Scripting (Replaced Firebase) -->
    <script>
        let schedule_java = []; // Store Java schedule
        let customSchedule = [];
        let mergedSchedule = [];
        let startDateStr; 
        const MAX_CUSTOM_DAYS = 30; // Max days allowed in the customization tool at once.
        const CIRCUMFERENCE = 2 * Math.PI * 45; // Circumference for SVG ring with r=45

        // --- Core DSA Schedule Data (Days 1-74) ---

        // Java Schedule Data (Updated Days 1-10)
        const DEFAULT_SCHEDULE_JAVA = [ // 100-day plan
            { day: 1, title: "Introduction to Programming", note: "", tasks: [ // Day 1
                { desc: "Introduction to Programming - Types of Languages, Memory Management", type: "Video", link: "https://www.youtube.com/watch?v=wn49bJOYAZM&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=5&pp=iAQB", resource: "YouTube" },
                { desc: "What is Programming?", type: "Article", link: "https://www.geeksforgeeks.org/introduction-of-programming/", resource: "GFG" },
                { desc: "Memory layout basics", type: "Article", link: "https://www.geeksforgeeks.org/memory-layout-of-c-program/", resource: "GFG" },
                { desc: "Understand compilation & interpreter", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 2, title: "Flow of Program - Flowcharts & Pseudocode", note: "", tasks: [ // Day 2
                { desc: "Flow of Program - Flowcharts & Pseudocode", type: "Video", link: "https://www.youtube.com/watch?v=lhELGQAV4gg&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=6&pp=iAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "Flowcharts", type: "Article", link: "https://www.geeksforgeeks.org/flowchart-designing/", resource: "GFG" },
                { desc: "Pseudocode", type: "Article", link: "https://www.geeksforgeeks.org/pseudo-code-in-programming/", resource: "GFG" },
                { desc: "Create flowchart for max of 3 numbers", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 3, title: "Introduction to Java - Architecture & Installation", note: "", tasks: [ // Day 3
                { desc: "Introduction to Java - Architecture & Installation", type: "Video", link: "https://www.youtube.com/watch?v=4EP8YzcN0hQ&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=7&pp=iAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "JDK vs JRE vs JVM", type: "Article", link: "https://www.geeksforgeeks.org/differences-jdk-jre-jvm/", resource: "GFG" },
                { desc: "How Java works internally", type: "Article", link: "#", resource: "Self-Study" },
                { desc: "Install JDK + VS Code", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 4, title: "First Java Program - Input/Output, Debugging and Datatypes", note: "", tasks: [ // Day 4
                { desc: "First Java Program - Input/Output, Debugging and Datatypes", type: "Video", link: "https://www.youtube.com/watch?v=TAtrPoaJ7gc&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=8&pp=iAQB", resource: "YouTube" },
                { desc: "Datatypes", type: "Article", link: "https://www.w3schools.com/java/java_data_types.asp", resource: "W3Schools" },
                { desc: "Input/Output", type: "Article", link: "https://www.javatpoint.com/java-io", resource: "Javatpoint" },
                { desc: "FizzBuzz", type: "Easy Problem", link: "https://leetcode.com/problems/fizz-buzz/", resource: "LeetCode" },
                { desc: "Running Sum of 1d Array", type: "Easy Problem", link: "https://leetcode.com/problems/running-sum-of-1d-array/", resource: "LeetCode" },
            ]},
            { day: 5, title: "Conditionals and Loops", note: "", tasks: [ // Day 5
                { desc: "Conditionals and Loops + Calculator Program", type: "Video", link: "https://www.youtube.com/watch?v=ldYLYRNaucM&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=9&pp=iAQB", resource: "YouTube" },
                { desc: "Conditions", type: "Article", link: "https://www.w3schools.com/java/java_conditions.asp", resource: "W3Schools" },
                { desc: "Loops", type: "Article", link: "https://www.w3schools.com/java/java_for_loop.asp", resource: "W3Schools" },
                { desc: "Number of Steps to Reduce a Number to Zero", type: "Easy Problem", link: "https://leetcode.com/problems/number-of-steps-to-reduce-a-number-to-zero/", resource: "LeetCode" },
            ]},
            { day: 6, title: "Switch Statements", note: "", tasks: [ // Day 6
                { desc: "Switch Statements + Nested Case in Java", type: "Video", link: "https://www.youtube.com/watch?v=mA23x39DjbI&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=10&pp=iAQB", resource: "YouTube" },
                { desc: "Switch", type: "Article", link: "https://www.w3schools.com/java/java_switch.asp", resource: "W3Schools" },
                { desc: "Simple menu-driven programs", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 7, title: "Functions / Methods in Java", note: "", tasks: [ // Day 7
                { desc: "Functions / Methods in Java", type: "Video", link: "https://www.youtube.com/watch?v=vvanI8NRlSI&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=11&pp=iAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "Java Methods", type: "Article", link: "https://www.w3schools.com/java/java_methods.asp", resource: "W3Schools" },
                { desc: "Reverse Integer", type: "Medium Problem", link: "https://leetcode.com/problems/reverse-integer/", resource: "LeetCode" },
            ]},
            { day: 8, title: "Strings and StringBuilder in Java", note: "", tasks: [ // Day 8
                { desc: "Strings and StringBuilder in Java", type: "Video", link: "https://www.youtube.com/watch?v=zL1DPZ0Ovlo&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=21&pp=iAQB", resource: "YouTube" },
                { desc: "String vs StringBuilder", type: "Article", link: "https://www.geeksforgeeks.org/difference-between-stringbuffer-and-stringbuilder/", resource: "GFG" },
                { desc: "Valid Palindrome", type: "Easy Problem", link: "https://leetcode.com/problems/valid-palindrome/", resource: "LeetCode" },
                { desc: "Longest Common Prefix", type: "Easy Problem", link: "https://leetcode.com/problems/longest-common-prefix/", resource: "LeetCode" },
            ]},
            { day: 9, title: "OOP 1 | Introduction & Concepts", note: "", tasks: [ // Day 9
                { desc: "OOP 1 | Introduction & Concepts - Classes, Objects, Constructors, Keywords", type: "Video", link: "https://www.youtube.com/watch?v=BSVKUk58K6U&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=37&pp=iAQB", resource: "YouTube" },
                { desc: "Java OOP", type: "Article", link: "https://www.javatpoint.com/java-oops-concepts", resource: "Javatpoint" },
                { desc: "Create your own Student class", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 10, title: "OOP 2 | Packages, Static, Singleton", note: "", tasks: [ // Day 10
                { desc: "OOP 2 | Packages, Static, Singleton Class, In-built Methods", type: "Video", link: "https://www.youtube.com/watch?v=_Ya6CN13t8k&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=38&pp=iAQB", resource: "YouTube" },
                { desc: "Static in Java", type: "Article", link: "https://www.geeksforgeeks.org/static-keyword-java/", resource: "GFG" },
            ]},
            { day: 11, title: "OOP 3 | Principles - Inheritance, Polymorphism, Encapsulation, Abstraction", note: "", tasks: [ // Day 11
                { desc: "OOP 3 (Part 1) | Inheritance, Polymorphism", type: "Video", link: "https://www.youtube.com/watch?v=46T2wD3IuhM&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=39&pp=iAQB", resource: "YouTube" },
                { desc: "OOP 3 (Part 2) | Encapsulation, Abstraction", type: "Video", link: "https://www.youtube.com/watch?v=46T2wD3IuhM&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=39&pp=iAQB", resource: "YouTube" },
                { desc: "Inheritance", type: "Article", link: "https://www.w3schools.com/java/java_inheritance.asp", resource: "W3Schools" },
                { desc: "Polymorphism", type: "Article", link: "https://www.w3schools.com/java/java_polymorphism.asp", resource: "W3Schools" },
                { desc: "Encapsulation", type: "Article", link: "https://www.w3schools.com/java/java_encapsulation.asp", resource: "W3Schools" },
                { desc: "Abstraction", type: "Article", link: "https://www.javatpoint.com/abstraction-in-java", resource: "Javatpoint" },
            ]},
            { day: 12, title: "OOP 4 | Access Control, In-built Packages", note: "", tasks: [ // Day 12
                { desc: "OOP 4 | Access Control, In-built Packages, Object Class", type: "Video", link: "https://www.youtube.com/watch?v=W145DXs8fFg&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=40&pp=iAQB", resource: "YouTube" },
                { desc: "Access modifiers", type: "Article", link: "https://www.javatpoint.com/access-modifiers", resource: "Javatpoint" },
            ]},
            { day: 13, title: "OOP 5 | Abstract Classes, Interfaces", note: "", tasks: [ // Day 13
                { desc: "OOP 5 | Abstract Classes, Interfaces, Annotations", type: "Video", link: "https://www.youtube.com/watch?v=rgHZa7-Dibg&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=41&pp=iAQB", resource: "YouTube" },
                { desc: "Interface vs Abstract", type: "Article", link: "https://www.geeksforgeeks.org/difference-between-abstract-class-and-interface-in-java/", resource: "GFG" },
            ]},
            { day: 14, title: "OOP 6 | Generics, Lambda, Exception Handling", note: "", tasks: [ // Day 14
                { desc: "OOP 6 | Generics, Custom ArrayList, Lambda Expressions, Exception Handling, Object Cloning", type: "Video", link: "https://www.youtube.com/watch?v=OY2lPr8h93U&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=42&pp=iAQB", resource: "YouTube" },
                { desc: "Generics", type: "Article", link: "https://www.geeksforgeeks.org/generics-in-java/", resource: "GFG" },
                { desc: "Exceptions", type: "Article", link: "https://www.w3schools.com/java/java_try_catch.asp", resource: "W3Schools" },
            ]},
            { day: 15, title: "OOP 7 | Collections Framework", note: "", tasks: [ // Day 15
                { desc: "OOP 7 | Collections Framework, Vector Class, Enums in Java", type: "Video", link: "https://www.youtube.com/watch?v=9ogGan-R1pc&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=43&pp=iAQB", resource: "YouTube" },
                { desc: "Collections", type: "Article", link: "https://www.javatpoint.com/collections-in-java", resource: "Javatpoint" },
                { desc: "Contains Duplicate", type: "Easy Problem", link: "https://leetcode.com/problems/contains-duplicate/", resource: "LeetCode" },
                { desc: "Two Sum", type: "Easy Problem", link: "https://leetcode.com/problems/two-sum/", resource: "LeetCode" },
            ]},
            { day: 16, title: "Linear Search Algorithm", note: "", tasks: [ // Day 16
                { desc: "Linear Search Algorithm - Theory + Code + Questions", type: "Video", link: "https://www.youtube.com/watch?v=_HRA37X8N_Q&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=13&pp=iAQB", resource: "YouTube" },
                { desc: "Linear Search", type: "Article", link: "https://www.geeksforgeeks.org/linear-search/", resource: "GFG" },
                { desc: "Search Insert Position", type: "Easy Problem", link: "https://leetcode.com/problems/search-insert-position/", resource: "LeetCode" },
            ]},
            { day: 17, title: "Binary Search Algorithm", note: "", tasks: [ // Day 17
                { desc: "Binary Search Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=f6UU7V3szVw&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=14&pp=iAQB", resource: "YouTube" },
                { desc: "Binary Search", type: "Article", link: "https://www.geeksforgeeks.org/binary-search/", resource: "GFG" },
                { desc: "Binary Search", type: "Easy Problem", link: "https://leetcode.com/problems/binary-search/", resource: "LeetCode" },
            ]},
            { day: 18, title: "Binary Search Interview Questions", note: "", tasks: [ // Day 18
                { desc: "Binary Search Interview Questions (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=W9QJ8HaRvJQ&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=15&pp=iAQB", resource: "YouTube" },
                { desc: "Binary Search Interview Questions (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=W9QJ8HaRvJQ&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=15&pp=iAQB", resource: "YouTube" },
                { desc: "Peak Element", type: "Article", link: "https://www.geeksforgeeks.org/find-peak-element/", resource: "GFG" },
                { desc: "Find Peak Element", type: "Medium Problem", link: "https://leetcode.com/problems/find-peak-element/", resource: "LeetCode" },
                { desc: "Search in Rotated Sorted Array", type: "Medium Problem", link: "https://leetcode.com/problems/search-in-rotated-sorted-array/", resource: "LeetCode" },
            ]},
            { day: 19, title: "Binary Search in 2D Arrays", note: "", tasks: [ // Day 19
                { desc: "Binary Search in 2D Arrays", type: "Video", link: "https://www.youtube.com/watch?v=enI_KyGLYPo&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=16&pp=iAQB", resource: "YouTube" },
                { desc: "Search in a row-wise and column-wise sorted 2D array", type: "Article", link: "https://www.geeksforgeeks.org/search-in-a-row-wise-and-column-wise-sorted-2d-array/", resource: "GFG" },
                { desc: "Search a 2D Matrix", type: "Medium Problem", link: "https://leetcode.com/problems/search-a-2d-matrix/", resource: "LeetCode" },
            ]},
            { day: 20, title: "Bubble Sort Algorithm", note: "", tasks: [ // Day 20
                { desc: "Bubble Sort Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=F5MZyqRp_IM&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=17&pp=iAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "Bubble Sort", type: "Article", link: "https://www.geeksforgeeks.org/bubble-sort/", resource: "GFG" },
                { desc: "Sort Colors", type: "Medium Problem", link: "https://leetcode.com/problems/sort-colors/", resource: "LeetCode" },
            ]},
            { day: 21, title: "Selection Sort Algorithm", note: "", tasks: [ // Day 21
                { desc: "Selection Sort Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=Nd4SCCIHFWk&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=18&pp=iAQB", resource: "YouTube" },
                { desc: "Selection Sort", type: "Article", link: "https://www.geeksforgeeks.org/selection-sort/", resource: "GFG" },
            ]},
            { day: 22, title: "Insertion Sort Algorithm", note: "", tasks: [ // Day 22
                { desc: "Insertion Sort Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=By_5-RRqVeE&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=19&pp=iAQB", resource: "YouTube" },
                { desc: "Insertion Sort", type: "Article", link: "https://www.geeksforgeeks.org/insertion-sort/", resource: "GFG" },
                { desc: "Insertion Sort List", type: "Medium Problem", link: "https://leetcode.com/problems/insertion-sort-list/", resource: "LeetCode" },
            ]},
            { day: 23, title: "Cycle Sort", note: "", tasks: [ // Day 23
                { desc: "Cycle Sort - Amazon, Google, Microsoft Interview Questions", type: "Video", link: "https://www.youtube.com/watch?v=JfinxytTYFQ&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=20&pp=iAQB", resource: "YouTube" },
                { desc: "Cycle Sort", type: "Article", link: "https://www.geeksforgeeks.org/cycle-sort/", resource: "GFG" },
                { desc: "Missing Number", type: "Easy Problem", link: "https://leetcode.com/problems/missing-number/", resource: "LeetCode" },
                { desc: "Set Mismatch", type: "Easy Problem", link: "https://leetcode.com/problems/set-mismatch/", resource: "LeetCode" },
                { desc: "First Missing Positive", type: "Hard Problem", link: "https://leetcode.com/problems/first-missing-positive/", resource: "LeetCode" },
            ]},
            { day: 24, title: "Time and Space Complexity", note: "", tasks: [ // Day 24
                { desc: "Time and Space Complexity COMPLETE Tutorial (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=mV3wrLBbuuE&list=PLCqQcm5h1gNmTFK1xJ9PPxsmLImyG2M3H&index=24&pp=gAQBiAQB", resource: "YouTube" },
                { desc: "Time and Space Complexity (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=mV3wrLBbuuE&list=PLCqQcm5h1gNmTFK1xJ9PPxsmLImyG2M3H&index=24&pp=gAQBiAQB", resource: "YouTube" },
                { desc: "Analysis of Algorithms | Big-O Analysis", type: "Article", link: "https://www.geeksforgeeks.org/analysis-of-algorithms-big-o-analysis/", resource: "GFG" },
                { desc: "Calculate Big-O of nested loops", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 25, title: "Bitwise Operators + Number Systems", note: "", tasks: [ // Day 25
                { desc: "Bitwise Operators + Number Systems - Maths for DSA (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=fzip9Aml6og&list=PLCqQcm5h1gNmTFK1xJ9PPxsmLImyG2M3H&index=25&t=329s&pp=gAQBiAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "Bitwise Operators + Number Systems - Maths for DSA (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=fzip9Aml6og&list=PLCqQcm5h1gNmTFK1xJ9PPxsmLImyG2M3H&index=25&t=329s&pp=gAQBiAQB0gcJCQMKAYcqIYzv", resource: "YouTube" },
                { desc: "Bitwise Operators", type: "Article", link: "https://www.geeksforgeeks.org/bitwise-operators-in-c-cpp/", resource: "GFG" },
                { desc: "Single Number", type: "Easy Problem", link: "https://leetcode.com/problems/single-number/", resource: "LeetCode" },
                { desc: "Number of 1 Bits", type: "Easy Problem", link: "https://leetcode.com/problems/number-of-1-bits/", resource: "LeetCode" },
            ]},
            { day: 26, title: "Maths for Data Structures & Algorithms", note: "", tasks: [
                { desc: "Maths for Data Structures & Algorithms", type: "Video", link: "https://www.youtube.com/watch?v=F6T3tD8Pw40&list=PL9gnSGHSqcnr_DxHsP7AW9ftq0AtAyYqJ&index=26&pp=iAQB", resource: "YouTube" },
                { desc: "Maths for CP", type: "Article", link: "https://www.geeksforgeeks.org/mathematics-for-competitive-programming/", resource: "GFG" },
                { desc: "Count Primes", type: "Easy Problem", link: "https://leetcode.com/problems/count-primes/", resource: "LeetCode" },
                { desc: "Power of Two", type: "Easy Problem", link: "https://leetcode.com/problems/power-of-two/", resource: "LeetCode" },
            ]},
            { day: 27, title: "Solve Any Pattern Question", note: "", tasks: [
                { desc: "Solve Any Pattern Question With This Trick!", type: "Video", link: "https://www.youtube.com/watch?v=lsOOs5J8ycw&pp=iAQB", resource: "YouTube" },
                { desc: "Pattern printing basics", type: "Article", link: "https://www.programiz.com/java-programming/examples/pyramid-pattern", resource: "Programiz" },
                { desc: "Practice 10 patterns", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 28, title: "Introduction to Recursion", note: "", tasks: [
                { desc: "Introduction to Recursion - Learn In The Best Way", type: "Video", link: "https://www.youtube.com/watch?v=M2uO2nMT0Bk&pp=iAQB", resource: "YouTube" },
                { desc: "Recursion basics", type: "Article", link: "https://www.geeksforgeeks.org/recursion/", resource: "GFG" },
                { desc: "Fibonacci", type: "Easy Problem", link: "https://leetcode.com/problems/fibonacci-number/", resource: "LeetCode" },
            ]},
            { day: 29, title: "Recursion Level 1", note: "", tasks: [
                { desc: "Recursion - Level 1 Questions (Theory + Code + Tips)", type: "Video", link: "https://www.youtube.com/watch?v=ngCos392W4w&pp=iAQB", resource: "YouTube" },
                { desc: "Stack frames", type: "Article", link: "https://www.javatpoint.com/recursion-in-java", resource: "Javatpoint" },
                { desc: "Sum of digits / reverse number", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 30, title: "Recursion - Array Questions", note: "", tasks: [
                { desc: "Recursion - Array Questions (Theory + Code + Tips)", type: "Video", link: "https://www.youtube.com/watch?v=YJ9M0L6o9jg&pp=iAQB", resource: "YouTube" },
                { desc: "Recursion on arrays", type: "Article", link: "https://www.geeksforgeeks.org/recursion-in-array/", resource: "GFG" },
                { desc: "Check Sorted", type: "Easy Problem", link: "https://leetcode.com/problems/check-if-array-is-sorted-and-rotated/", resource: "LeetCode" },
            ]},
            { day: 31, title: "Recursive Patterns + Sorting", note: "", tasks: [
                { desc: "Recursion - Pattern Questions + Bubble Sort + Selection Sort", type: "Video", link: "https://www.youtube.com/watch?v=zgP6360wxgI&pp=iAQB", resource: "YouTube" },
                { desc: "Recursive sorting basics", type: "Article", link: "https://www.geeksforgeeks.org/recursive-bubble-sort/", resource: "GFG" },
            ]},
            { day: 32, title: "Merge Sort Using Recursion", note: "", tasks: [
                { desc: "Merge Sort Using Recursion (Theory + Complexity + Code)", type: "Video", link: "https://www.youtube.com/watch?v=ogjf7ORKfd8&pp=iAQB", resource: "YouTube" },
                { desc: "Merge Sort", type: "Article", link: "https://www.geeksforgeeks.org/merge-sort/", resource: "GFG" },
                { desc: "Sort List", type: "Medium Problem", link: "https://leetcode.com/problems/sort-list/", resource: "LeetCode" },
            ]},
            { day: 33, title: "Quick Sort Using Recursion", note: "", tasks: [
                { desc: "Quick Sort Using Recursion (Theory + Complexity + Code)", type: "Video", link: "https://www.youtube.com/watch?v=7h1s2SojIRw&pp=iAQB", resource: "YouTube" },
                { desc: "Quick Sort", type: "Article", link: "https://www.geeksforgeeks.org/quick-sort/", resource: "GFG" },
            ]},
            { day: 34, title: "Subsets / Subsequence / Strings", note: "", tasks: [
                { desc: "Recursion Subset, Subsequence, String Questions", type: "Video", link: "https://www.youtube.com/watch?v=zgPXwS8YvA8&pp=iAQB", resource: "YouTube" },
                { desc: "Power set", type: "Article", link: "https://www.geeksforgeeks.org/power-set/", resource: "GFG" },
                { desc: "Subsets", type: "Medium Problem", link: "https://leetcode.com/problems/subsets/", resource: "LeetCode" },
            ]},
            { day: 35, title: "Permutations", note: "", tasks: [
                { desc: "Recursion - Permutations (Theory + Code + Tips)", type: "Video", link: "https://www.youtube.com/watch?v=s7AvT7cGdSo&pp=iAQB", resource: "YouTube" },
                { desc: "Permutation generation", type: "Article", link: "https://www.geeksforgeeks.org/heaps-algorithm-for-generating-permutations/", resource: "GFG" },
                { desc: "Permutations", type: "Medium Problem", link: "https://leetcode.com/problems/permutations/", resource: "LeetCode" },
            ]},
            { day: 36, title: "Backtracking + Maze", note: "", tasks: [
                { desc: "Backtracking Introduction + Maze Problems - Theory + Code + Tips", type: "Video", link: "https://www.youtube.com/watch?v=zgPXwS8YvA8&pp=iAQB", resource: "YouTube" },
                { desc: "Backtracking explanation", type: "Article", link: "https://www.geeksforgeeks.org/backtracking-algorithm/", resource: "GFG" },
                { desc: "Word Search", type: "Medium Problem", link: "https://leetcode.com/problems/word-search/", resource: "LeetCode" },
            ]},
            { day: 37, title: "Dice Throw + Letter Combinations", note: "", tasks: [
                { desc: "Recursion Google, Amazon Questions: Dice Throw & Letter Combinations of a Phone Number", type: "Video", link: "https://www.youtube.com/watch?v=0snEunUacZY&pp=iAQB", resource: "YouTube" },
                { desc: "Combinations theory", type: "Article", link: "https://www.geeksforgeeks.org/print-all-combinations-of-given-length/", resource: "GFG" },
                { desc: "Letter Combinations", type: "Medium Problem", link: "https://leetcode.com/problems/letter-combinations-of-a-phone-number/", resource: "LeetCode" },
            ]},
            { day: 38, title: "Backtracking Advanced (N Queens + Sudoku)", note: "", tasks: [
                { desc: "N-Queens, N-Knights, Sudoku Solver (LeetCode) - Backtracking Questions", type: "Video", link: "https://www.youtube.com/watch?v=xFv_Hl4B83A&pp=iAQB", resource: "YouTube" },
                { desc: "N Queens", type: "Article", link: "https://www.geeksforgeeks.org/n-queen-problem-backtracking-3/", resource: "GFG" },
                { desc: "Sudoku Solver", type: "Hard Problem", link: "https://leetcode.com/problems/sudoku-solver/", resource: "LeetCode" },
            ]},
            { day: 39, title: "Recursion Revision Day", note: "", tasks: [
                { desc: "Rewatch unclear parts", type: "Revision", link: "#", resource: "Self-Study" },
                { desc: "Dry run subsets, permutations, N-Queens", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Combination Sum", type: "Medium Problem", link: "https://leetcode.com/problems/combination-sum/", resource: "LeetCode" },
            ]},
            { day: 40, title: "Sorting + Recursion Mini Test", note: "", tasks: [
                { desc: "Write merge sort from scratch", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Write quicksort from scratch", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Sort Colors", type: "Medium Problem", link: "https://leetcode.com/problems/sort-colors/", resource: "LeetCode" },
                { desc: "Merge Sorted Array", type: "Easy Problem", link: "https://leetcode.com/problems/merge-sorted-array/", resource: "LeetCode" },
            ]},
            { day: 41, title: "Maths for DSA (Revision)", note: "", tasks: [
                { desc: "Maths for Data Structures & Algorithms (revise part)", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Happy Number", type: "Easy Problem", link: "https://leetcode.com/problems/happy-number/", resource: "LeetCode" },
            ]},
            { day: 42, title: "Recursion — Patterns + Sorting Revision", note: "", tasks: [
                { desc: "Recursion — Patterns + Sorting Revision", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Print patterns recursively", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 43, title: "Quick Revision of All Recursion Fundamentals", note: "", tasks: [
                { desc: "Quick Revision of All Recursion Fundamentals", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Pow(x, n)", type: "Medium Problem", link: "https://leetcode.com/problems/powx-n/", resource: "LeetCode" },
            ]},
            { day: 44, title: "Subset + Subsequence Hard Practice", note: "", tasks: [
                { desc: "Subset + Subsequence Hard Practice", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Combination Sum II", type: "Medium Problem", link: "https://leetcode.com/problems/combination-sum-ii/", resource: "LeetCode" },
                { desc: "Permutation Sequence", type: "Hard Problem", link: "https://leetcode.com/problems/permutation-sequence/", resource: "LeetCode" },
            ]},
            { day: 45, title: "Backtracking Revision: Maze / Strings", note: "", tasks: [
                { desc: "Backtracking Revision: Maze / Strings", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Generate Parentheses", type: "Medium Problem", link: "https://leetcode.com/problems/generate-parentheses/", resource: "LeetCode" },
            ]},
            { day: 46, title: "Merge Sort + Quick Sort Deep Revision", note: "", tasks: [
                { desc: "Merge Sort + Quick Sort Deep Revision", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Kth Largest Element in an Array", type: "Medium Problem", link: "https://leetcode.com/problems/kth-largest-element-in-an-array/", resource: "LeetCode" },
            ]},
            { day: 47, title: "Subsets / Permutations Final Revision", note: "", tasks: [
                { desc: "Subsets / Permutations Final Revision", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Subsets III (custom variations)", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 48, title: "All Backtracking Combined", note: "", tasks: [
                { desc: "All Backtracking Combined", type: "Video", link: "#", resource: "YouTube" },
                { desc: "Letter Case Permutation", type: "Medium Problem", link: "https://leetcode.com/problems/letter-case-permutation/", resource: "LeetCode" },
            ]},
            { day: 49, title: "MOCK TEST 1", note: "", tasks: [
                { desc: "Subsets", type: "Practice", link: "https://leetcode.com/problems/subsets/", resource: "LeetCode" },
                { desc: "Permutations", type: "Practice", link: "https://leetcode.com/problems/permutations/", resource: "LeetCode" },
                { desc: "Combination Sum", type: "Practice", link: "https://leetcode.com/problems/combination-sum/", resource: "LeetCode" },
                { desc: "N Queens", type: "Practice", link: "https://leetcode.com/problems/n-queens/", resource: "LeetCode" },
                { desc: "Word Search", type: "Practice", link: "https://leetcode.com/problems/word-search/", resource: "LeetCode" },
            ]},
            { day: 50, title: "Final Recursion + Backtracking Wrap-up", note: "", tasks: [
                { desc: "Review all notes", type: "Revision", link: "#", resource: "Self-Study" },
                { desc: "All subsets/permutations variants (5 chosen by you)", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 51, title: "Linked List Tutorial", note: "", tasks: [
                { desc: "Linked List Tutorial - Singly + Doubly + Circular (Theory + Code + Implementation)", type: "Video", link: "https://www.youtube.com/watch?v=58YbpRDc4yw&pp=iAQB", resource: "YouTube" },
                { desc: "Linked List basics", type: "Article", link: "https://www.geeksforgeeks.org/data-structures-linked-list/", resource: "GFG" },
                { desc: "Reverse Linked List", type: "Easy Problem", link: "https://leetcode.com/problems/reverse-linked-list/", resource: "LeetCode" },
                { desc: "Middle of the Linked List", type: "Easy Problem", link: "https://leetcode.com/problems/middle-of-the-linked-list/", resource: "LeetCode" },
            ]},
            { day: 52, title: "Linked List Interview Qs (Part 1)", note: "", tasks: [
                { desc: "Linked List Interview Questions (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=70tx7KcMROc&pp=iAQB", resource: "YouTube" },
                { desc: "Slow/Fast Pointer", type: "Article", link: "https://www.geeksforgeeks.org/floyds-cycle-finding-algorithm/", resource: "GFG" },
                { desc: "Linked List Cycle", type: "Easy Problem", link: "https://leetcode.com/problems/linked-list-cycle/", resource: "LeetCode" },
            ]},
            { day: 53, title: "Linked List Interview Qs (Part 2)", note: "", tasks: [
                { desc: "Linked List Interview Questions (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=70tx7KcMROc&pp=iAQB", resource: "YouTube" },
                { desc: "Merge techniques", type: "Article", link: "https://www.geeksforgeeks.org/merge-two-sorted-linked-lists/", resource: "GFG" },
                { desc: "Merge Sorted Lists", type: "Easy Problem", link: "https://leetcode.com/problems/merge-two-sorted-lists/", resource: "LeetCode" },
            ]},
            { day: 54, title: "Linked List Interview Qs (Part 3)", note: "", tasks: [
                { desc: "Linked List Interview Questions (Part 3)", type: "Video", link: "https://www.youtube.com/watch?v=70tx7KcMROc&pp=iAQB", resource: "YouTube" },
                { desc: "Removing nth node", type: "Article", link: "https://www.geeksforgeeks.org/remove-nth-node-from-end-of-the-linked-list/", resource: "GFG" },
                { desc: "Remove Nth Node", type: "Medium Problem", link: "https://leetcode.com/problems/remove-nth-node-from-end-of-list/", resource: "LeetCode" },
            ]},
            { day: 55, title: "Linked List Interview Qs (Part 4)", note: "", tasks: [
                { desc: "Linked List Interview Questions (Part 4)", type: "Video", link: "https://www.youtube.com/watch?v=70tx7KcMROc&pp=iAQB", resource: "YouTube" },
                { desc: "Reorder Linked List", type: "Article", link: "https://www.geeksforgeeks.org/reorder-list/", resource: "GFG" },
                { desc: "Reorder List", type: "Medium Problem", link: "https://leetcode.com/problems/reorder-list/", resource: "LeetCode" },
            ]},
            { day: 56, title: "Linked List Consolidation Day", note: "", tasks: [
                { desc: "Implement LL from scratch", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Palindrome Linked List", type: "Easy Problem", link: "https://leetcode.com/problems/palindrome-linked-list/", resource: "LeetCode" },
            ]},
            { day: 57, title: "Stacks and Queues Complete Tutorial", note: "", tasks: [
                { desc: "Stacks and Queues Complete Tutorial - Theory + Implementation + Types (Dynamic, Circular)", type: "Video", link: "https://www.youtube.com/watch?v=rHQI4mrJ3cg&pp=iAQB", resource: "YouTube" },
                { desc: "Stack intro", type: "Article", link: "https://www.geeksforgeeks.org/stack-data-structure/", resource: "GFG" },
                { desc: "Queue intro", type: "Article", link: "https://www.geeksforgeeks.org/queue-data-structure/", resource: "GFG" },
                { desc: "Valid Parentheses", type: "Easy Problem", link: "https://leetcode.com/problems/valid-parentheses/", resource: "LeetCode" },
            ]},
            { day: 58, title: "Stacks and Queues Interview Questions", note: "", tasks: [
                { desc: "Stacks and Queues Interview Questions (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=S9LUYztYLu4&pp=iAQB", resource: "YouTube" },
                { desc: "Stacks and Queues Interview Questions (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=S9LUYztYLu4&pp=iAQB", resource: "YouTube" },
                { desc: "Monotonic Stack", type: "Article", link: "https://www.geeksforgeeks.org/monotonic-stack/", resource: "GFG" },
                { desc: "Min Stack", type: "Easy Problem", link: "https://leetcode.com/problems/min-stack/", resource: "LeetCode" },
            ]},
            { day: 59, title: "Stack/Queue Deep Practice", note: "", tasks: [
                { desc: "Implement stack using array", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Implement queue using array", type: "Practice", link: "#", resource: "Self-Study" },
                { desc: "Implement Queue using Stacks", type: "Easy Problem", link: "https://leetcode.com/problems/implement-queue-using-stacks/", resource: "LeetCode" },
                { desc: "Implement Stack using Queues", type: "Easy Problem", link: "https://leetcode.com/problems/implement-stack-using-queues/", resource: "LeetCode" },
            ]},
            { day: 60, title: "Deque + Sliding Window Prep", note: "", tasks: [
                { desc: "Deque", type: "Article", link: "https://www.geeksforgeeks.org/deque-set-1-introduction-applications/", resource: "GFG" },
                { desc: "Sliding Window Maximum", type: "Hard Problem", link: "https://leetcode.com/problems/sliding-window-maximum/", resource: "LeetCode" },
            ]},
            { day: 61, title: "Introduction to Trees", note: "", tasks: [
                { desc: "Binary Trees Tutorial - Introduction + Traversals + Code | BST", type: "Video", link: "https://www.youtube.com/watch?v=4s1Tcvm00pA&pp=iAQB", resource: "YouTube" },
                { desc: "Binary tree basics", type: "Article", link: "https://www.geeksforgeeks.org/binary-tree-data-structure/", resource: "GFG" },
                { desc: "Binary Tree Inorder Traversal", type: "Easy Problem", link: "https://leetcode.com/problems/binary-tree-inorder-traversal/", resource: "LeetCode" },
            ]},
            { day: 62, title: "Binary Trees Continued", note: "", tasks: [
                { desc: "Traversals (recursive + iterative)", type: "Article", link: "https://www.geeksforgeeks.org/tree-traversals-inorder-preorder-and-postorder/", resource: "GFG" },
                { desc: "Binary Tree Level Order Traversal", type: "Medium Problem", link: "https://leetcode.com/problems/binary-tree-level-order-traversal/", resource: "LeetCode" },
            ]},
            { day: 63, title: "Binary Trees Revision + Medium Problems", note: "", tasks: [
                { desc: "Symmetric Tree", type: "Easy Problem", link: "https://leetcode.com/problems/symmetric-tree/", resource: "LeetCode" },
                { desc: "Diameter of Binary Tree", type: "Easy Problem", link: "https://leetcode.com/problems/diameter-of-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 64, title: "Binary Tree Questions (Part 1)", note: "", tasks: [
                { desc: "Binary Tree Questions for Technical Interviews (Part 1)", type: "Video", link: "https://www.youtube.com/watch?v=9D-vP-jcc-Y&pp=iAQB", resource: "YouTube" },
                { desc: "DFS tree problems", type: "Article", link: "https://www.geeksforgeeks.org/tree-data-structure/", resource: "GFG" },
                { desc: "Max Depth", type: "Easy Problem", link: "https://leetcode.com/problems/maximum-depth-of-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 65, title: "Binary Tree Questions (Part 2)", note: "", tasks: [
                { desc: "Binary Tree Questions (Part 2)", type: "Video", link: "https://www.youtube.com/watch?v=9D-vP-jcc-Y&pp=iAQB", resource: "YouTube" },
                { desc: "Balanced Binary Tree", type: "Easy Problem", link: "https://leetcode.com/problems/balanced-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 66, title: "Binary Tree Questions (Part 3)", note: "", tasks: [
                { desc: "Binary Tree Questions (Part 3)", type: "Video", link: "https://www.youtube.com/watch?v=9D-vP-jcc-Y&pp=iAQB", resource: "YouTube" },
                { desc: "Path Sum", type: "Easy Problem", link: "https://leetcode.com/problems/path-sum/", resource: "LeetCode" },
                { desc: "Path Sum II", type: "Medium Problem", link: "https://leetcode.com/problems/path-sum-ii/", resource: "LeetCode" },
            ]},
            { day: 67, title: "Binary Tree Questions (Part 4)", note: "", tasks: [
                { desc: "Binary Tree Questions (Part 4)", type: "Video", link: "https://www.youtube.com/watch?v=9D-vP-jcc-Y&pp=iAQB", resource: "YouTube" },
                { desc: "Lowest Common Ancestor", type: "Medium Problem", link: "https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 68, title: "Tree Coding Day (Practice)", note: "", tasks: [
                { desc: "Binary Tree Zigzag Level Order Traversal", type: "Medium Problem", link: "https://leetcode.com/problems/binary-tree-zigzag-level-order-traversal/", resource: "LeetCode" },
                { desc: "Binary Tree Right Side View", type: "Medium Problem", link: "https://leetcode.com/problems/binary-tree-right-side-view/", resource: "LeetCode" },
            ]},
            { day: 69, title: "Heap + Priority Queue", note: "", tasks: [
                { desc: "Introduction to Heap Data Structure + Priority Queue + Heapsort Tutorial", type: "Video", link: "https://www.youtube.com/watch?v=Qf-TDPr0nYw&pp=iAQB", resource: "YouTube" },
                { desc: "Binary Heap", type: "Article", link: "https://www.geeksforgeeks.org/binary-heap/", resource: "GFG" },
                { desc: "Kth Largest Element", type: "Medium Problem", link: "https://leetcode.com/problems/kth-largest-element-in-an-array/", resource: "LeetCode" },
            ]},
            { day: 70, title: "Heap Continued", note: "", tasks: [
                { desc: "K Closest Points to Origin", type: "Medium Problem", link: "https://leetcode.com/problems/k-closest-points-to-origin/", resource: "LeetCode" },
                { desc: "Last Stone Weight", type: "Easy Problem", link: "https://leetcode.com/problems/last-stone-weight/", resource: "LeetCode" },
            ]},
            { day: 71, title: "HashMap + HashTable", note: "", tasks: [
                { desc: "Introduction to HashMap & HashTable in Java", type: "Video", link: "https://www.youtube.com/watch?v=XLbvmMz8Fr8&pp=iAQB", resource: "YouTube" },
                { desc: "HashMap Explanation", type: "Article", link: "https://www.geeksforgeeks.org/java-util-hashmap-in-java/", resource: "GFG" },
                { desc: "Two Sum", type: "Easy Problem", link: "https://leetcode.com/problems/two-sum/", resource: "LeetCode" },
            ]},
            { day: 72, title: "HashMap Practice", note: "", tasks: [
                { desc: "Top K Frequent Elements", type: "Medium Problem", link: "https://leetcode.com/problems/top-k-frequent-elements/", resource: "LeetCode" },
                { desc: "Valid Anagram", type: "Easy Problem", link: "https://leetcode.com/problems/valid-anagram/", resource: "LeetCode" },
            ]},
            { day: 73, title: "Segment Trees Tutorial", note: "", tasks: [
                { desc: "Segment Trees Tutorial | Range Queries | Interview Questions", type: "Video", link: "https://www.youtube.com/watch?v=ciHThtTVNto&pp=iAQB", resource: "YouTube" },
                { desc: "Segment Tree", type: "Article", link: "https://www.geeksforgeeks.org/segment-tree-set-1-sum-of-given-range/", resource: "GFG" },
            ]},
            { day: 74, title: "Karp–Rabin Algorithm", note: "", tasks: [
                { desc: "Karp-Rabin String Matching Algorithm | Substring Search Pattern", type: "Video", link: "https://www.youtube.com/watch?v=swciWFPq3NE&pp=iAQB", resource: "YouTube" },
                { desc: "Rabin-Karp", type: "Article", link: "https://www.geeksforgeeks.org/rabin-karp-algorithm-for-pattern-searching/", resource: "GFG" },
            ]},
            { day: 75, title: "Count Sort Algorithm", note: "", tasks: [
                { desc: "Count Sort Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=FOo820lJV1Y&pp=iAQB", resource: "YouTube" },
                { desc: "Counting Sort", type: "Article", link: "https://www.geeksforgeeks.org/counting-sort/", resource: "GFG" },
            ]},
            { day: 76, title: "Radix Sort Algorithm", note: "", tasks: [
                { desc: "Radix Sort Algorithm - Theory + Code", type: "Video", link: "https://www.youtube.com/watch?v=mLi6VQDqAOs&pp=iAQB", resource: "YouTube" },
                { desc: "Radix Sort", type: "Article", link: "https://www.geeksforgeeks.org/radix-sort/", resource: "GFG" },
                { desc: "Maximum Gap", type: "Hard Problem", link: "https://leetcode.com/problems/maximum-gap/", resource: "LeetCode" },
            ]},
            { day: 77, title: "Huffman Coding Greedy Algorithm", note: "", tasks: [
                { desc: "Huffman Coding Greedy Algorithm | Text Compression", type: "Video", link: "https://www.youtube.com/watch?v=XLfgeaYHinM&pp=iAQB", resource: "YouTube" },
                { desc: "Huffman Coding", type: "Article", link: "https://www.geeksforgeeks.org/huffman-coding-greedy-algo-3/", resource: "GFG" },
                { desc: "Build Huffman tree manually", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 78, title: "Mo's Algorithm", note: "", tasks: [
                { desc: "Easily Solve Range Query Problems with Mo's Algorithm", type: "Video", link: "https://www.youtube.com/watch?v=U4YmISZViSs&pp=iAQB", resource: "YouTube" },
                { desc: "Mo’s Algorithm", type: "Article", link: "https://www.geeksforgeeks.org/mos-algorithm-query-square-root-decomposition-technique/", resource: "GFG" },
                { desc: "Offline query problems", type: "Practice", link: "#", resource: "Self-Study" },
            ]},
            { day: 79, title: "Binary Tree from Preorder & Inorder Traversal", note: "", tasks: [
                { desc: "Binary Tree from Preorder & Inorder Traversal - Advance Tree Questions", type: "Video", link: "https://www.youtube.com/watch?v=LFGBTFxHJII&pp=iAQB", resource: "YouTube" },
                { desc: "Construct BT from inorder + preorder", type: "Article", link: "https://www.geeksforgeeks.org/construct-tree-from-preorder-and-inorder-traversals/", resource: "GFG" },
                { desc: "Construct BT from Preorder + Inorder", type: "Medium Problem", link: "https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/", resource: "LeetCode" },
            ]},
            { day: 80, title: "Vertical Order Traversal of a Binary Tree", note: "", tasks: [
                { desc: "Vertical Order Traversal of a Binary Tree - Google Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=Qdr3ohMSxBo&pp=iAQB", resource: "YouTube" },
                { desc: "Vertical Order Traversal", type: "Article", link: "https://www.geeksforgeeks.org/vertical-order-traversal-of-binary-tree/", resource: "GFG" },
                { desc: "Vertical Order Traversal", type: "Hard Problem", link: "https://leetcode.com/problems/vertical-order-traversal-of-a-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 81, title: "Word Ladder", note: "", tasks: [
                { desc: "Word Ladder - LeetCode Hard - Google Phone Screen Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=2odLxQWYDi0&pp=iAQB", resource: "YouTube" },
                { desc: "Word Ladder BFS", type: "Article", link: "https://www.geeksforgeeks.org/word-ladder-length-of-shortest-chain-to-reach-a-target-word/", resource: "GFG" },
                { desc: "Word Ladder", type: "Hard Problem", link: "https://leetcode.com/problems/word-ladder/", resource: "LeetCode" },
            ]},
            { day: 82, title: "Two Sum IV - Input is a BST", note: "", tasks: [
                { desc: "Two Sum IV - Google, Amazon, Facebook Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=oB1EIXIDS8s&pp=iAQB", resource: "YouTube" },
                { desc: "BST Search for pair", type: "Article", link: "https://www.geeksforgeeks.org/find-a-pair-with-given-sum-in-bst/", resource: "GFG" },
                { desc: "Two Sum IV", type: "Easy Problem", link: "https://leetcode.com/problems/two-sum-iv-input-is-a-bst/", resource: "LeetCode" },
            ]},
            { day: 83, title: "Kth Smallest Element in a BST", note: "", tasks: [
                { desc: "Kth Smallest Element in a BST - Google, Amazon, Facebook Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=guzgnCSafg4&pp=iAQB", resource: "YouTube" },
                { desc: "BST inorder = sorted", type: "Article", link: "https://www.geeksforgeeks.org/kth-smallest-element-in-bst/", resource: "GFG" },
                { desc: "Kth Smallest Element", type: "Medium Problem", link: "https://leetcode.com/problems/kth-smallest-element-in-a-bst/", resource: "LeetCode" },
            ]},
            { day: 84, title: "Convert Binary Tree to Doubly Linked List", note: "", tasks: [
                { desc: "Convert Binary Tree to Doubly Linked List - FAANG Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=kNZ5VIkqReU&pp=iAQB", resource: "YouTube" },
                { desc: "BT to DLL conversion", type: "Article", link: "https://www.geeksforgeeks.org/convert-binary-tree-to-doubly-linked-list/", resource: "GFG" },
                { desc: "Flatten Binary Tree", type: "Medium Problem", link: "https://leetcode.com/problems/flatten-binary-tree-to-linked-list/", resource: "LeetCode" },
            ]},
            { day: 85, title: "Correct Binary Tree That Has Two Nodes Swapped", note: "", tasks: [
                { desc: "Correct Binary Tree That Has Two Nodes Swapped - FAANG Interview Question", type: "Video", link: "https://www.youtube.com/watch?v=CxNRKTp6_9s&pp=iAQB", resource: "YouTube" },
                { desc: "Fix swapped BST", type: "Article", link: "https://www.geeksforgeeks.org/fix-two-swapped-nodes-of-bst/", resource: "GFG" },
                { desc: "Recover BST", type: "Medium Problem", link: "https://leetcode.com/problems/recover-binary-search-tree/", resource: "LeetCode" },
            ]},
            { day: 86, title: "Tree Hard Problems I", note: "", tasks: [
                { desc: "Lowest Common Ancestor of a Binary Tree", type: "Medium Problem", link: "https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/", resource: "LeetCode" },
                { desc: "Diameter of Binary Tree", type: "Easy Problem", link: "https://leetcode.com/problems/diameter-of-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 87, title: "Tree Hard Problems II", note: "", tasks: [
                { desc: "Binary Tree Maximum Path Sum", type: "Hard Problem", link: "https://leetcode.com/problems/binary-tree-maximum-path-sum/", resource: "LeetCode" },
                { desc: "Validate Binary Search Tree", type: "Medium Problem", link: "https://leetcode.com/problems/validate-binary-search-tree/", resource: "LeetCode" },
            ]},
            { day: 88, title: "Tree Hard Problems III", note: "", tasks: [
                { desc: "Serialize and Deserialize Binary Tree", type: "Hard Problem", link: "https://leetcode.com/problems/serialize-and-deserialize-binary-tree/", resource: "LeetCode" },
                { desc: "Balanced Binary Tree", type: "Easy Problem", link: "https://leetcode.com/problems/balanced-binary-tree/", resource: "LeetCode" },
            ]},
            { day: 89, title: "HashMap + Heap Revisions", note: "", tasks: [
                { desc: "Top K Frequent Elements", type: "Medium Problem", link: "https://leetcode.com/problems/top-k-frequent-elements/", resource: "LeetCode" },
                { desc: "K Closest Points to Origin", type: "Medium Problem", link: "https://leetcode.com/problems/k-closest-points-to-origin/", resource: "LeetCode" },
            ]},
            { day: 90, title: "Advanced Sorting Revision", note: "", tasks: [
                { desc: "Merge Intervals", type: "Medium Problem", link: "https://leetcode.com/problems/merge-intervals/", resource: "LeetCode" },
                { desc: "Largest Number", type: "Medium Problem", link: "https://leetcode.com/problems/largest-number/", resource: "LeetCode" },
            ]},
            { day: 91, title: "LinkedList + Stack Final Revision", note: "", tasks: [
                { desc: "Add Two Numbers", type: "Medium Problem", link: "https://leetcode.com/problems/add-two-numbers/", resource: "LeetCode" },
                { desc: "Min Stack", type: "Easy Problem", link: "https://leetcode.com/problems/min-stack/", resource: "LeetCode" },
            ]},
            { day: 92, title: "Recursion + Backtracking Final Revision", note: "", tasks: [
                { desc: "Generate Parentheses", type: "Medium Problem", link: "https://leetcode.com/problems/generate-parentheses/", resource: "LeetCode" },
                { desc: "Combination Sum", type: "Medium Problem", link: "https://leetcode.com/problems/combination-sum/", resource: "LeetCode" },
            ]},
            { day: 93, title: "Graph Basics (Bonus)", note: "", tasks: [
                { desc: "Number of Islands", type: "Medium Problem", link: "https://leetcode.com/problems/number-of-islands/", resource: "LeetCode" },
                { desc: "Clone Graph", type: "Medium Problem", link: "https://leetcode.com/problems/clone-graph/", resource: "LeetCode" },
            ]},
            { day: 94, title: "Sliding Window Revision", note: "", tasks: [
                { desc: "Longest Substring Without Repeating Characters", type: "Medium Problem", link: "https://leetcode.com/problems/longest-substring-without-repeating-characters/", resource: "LeetCode" },
                { desc: "Permutation in String", type: "Medium Problem", link: "https://leetcode.com/problems/permutation-in-string/", resource: "LeetCode" },
            ]},
            { day: 95, title: "Two Pointer Revision", note: "", tasks: [
                { desc: "3Sum", type: "Medium Problem", link: "https://leetcode.com/problems/3sum/", resource: "LeetCode" },
                { desc: "Container With Most Water", type: "Medium Problem", link: "https://leetcode.com/problems/container-with-most-water/", resource: "LeetCode" },
            ]},
            { day: 96, title: "DP Warm-up", note: "", tasks: [
                { desc: "Climbing Stairs", type: "Easy Problem", link: "https://leetcode.com/problems/climbing-stairs/", resource: "LeetCode" },
                { desc: "House Robber", type: "Medium Problem", link: "https://leetcode.com/problems/house-robber/", resource: "LeetCode" },
            ]},
            { day: 97, title: "DP Medium", note: "", tasks: [
                { desc: "Coin Change", type: "Medium Problem", link: "https://leetcode.com/problems/coin-change/", resource: "LeetCode" },
                { desc: "Partition Equal Subset Sum", type: "Medium Problem", link: "https://leetcode.com/problems/partition-equal-subset-sum/", resource: "LeetCode" },
            ]},
            { day: 98, title: "DP Hard", note: "", tasks: [
                { desc: "Longest Increasing Subsequence", type: "Medium Problem", link: "https://leetcode.com/problems/longest-increasing-subsequence/", resource: "LeetCode" },
                { desc: "Edit Distance", type: "Hard Problem", link: "https://leetcode.com/problems/edit-distance/", resource: "LeetCode" },
            ]},
            { day: 99, title: "Mock Interview Round 1", note: "", tasks: [
                { desc: "Two Sum", type: "Practice", link: "https://leetcode.com/problems/two-sum/", resource: "LeetCode" },
                { desc: "Search in Rotated Sorted Array", type: "Practice", link: "https://leetcode.com/problems/search-in-rotated-sorted-array/", resource: "LeetCode" },
                { desc: "Subsets", type: "Practice", link: "https://leetcode.com/problems/subsets/", resource: "LeetCode" },
                { desc: "Lowest Common Ancestor of a Binary Tree", type: "Practice", link: "https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/", resource: "LeetCode" },
                { desc: "Kth Smallest Element in a BST", type: "Practice", link: "https://leetcode.com/problems/kth-smallest-element-in-a-bst/", resource: "LeetCode" },
            ]},
            { day: 100, title: "FINAL MOCK ROUND (FAANG Level)", note: "", tasks: [
                { desc: "Word Ladder", type: "Practice", link: "https://leetcode.com/problems/word-ladder/", resource: "LeetCode" },
                { desc: "Binary Tree Maximum Path Sum", type: "Practice", link: "https://leetcode.com/problems/binary-tree-maximum-path-sum/", resource: "LeetCode" },
                { desc: "Recover Binary Search Tree", type: "Practice", link: "https://leetcode.com/problems/recover-binary-search-tree/", resource: "LeetCode" },
                { desc: "K Closest Points to Origin", type: "Practice", link: "https://leetcode.com/problems/k-closest-points-to-origin/", resource: "LeetCode" },
                { desc: "Merge Intervals", type: "Practice", link: "https://leetcode.com/problems/merge-intervals/", resource: "LeetCode" },
                { desc: "3Sum", type: "Practice", link: "https://leetcode.com/problems/3sum/", resource: "LeetCode" },
                { desc: "Number of Islands", type: "Practice", link: "https://leetcode.com/problems/number-of-islands/", resource: "LeetCode" },
            ]},
        ];

        // Merge Java-specific Days 1-50 with the common Days 51-60 from the C++ schedule
        // const COMMON_ADVANCED_SCHEDULE = DEFAULT_SCHEDULE_CPP.slice(50);
        // DEFAULT_SCHEDULE_JAVA.push(...COMMON_ADVANCED_SCHEDULE);
        schedule_java = DEFAULT_SCHEDULE_JAVA;

        // --- End DSA Schedule Data ---

        // --- Local Storage Functions (Replaced Firebase Logic) ---

        // Functions to get localStorage keys (Simplified for Java-only)
        const getProgressKey = () => 'dsa_tracker_progress_java';
        const getCustomScheduleKey = () => 'dsa_tracker_custom_java';
        const getStartDateKey = () => 'dsa_tracker_start_date_java';

        /**
         * Loads all data from localStorage (simulating a database fetch).
         */
        function loadLocalData() {
            try {
                const progressJson = localStorage.getItem(getProgressKey());
                const customJson = localStorage.getItem(getCustomScheduleKey());

                // Progress is stored per day (we simulate a map of day -> {tasks: [], note: ''})
                const savedProgressMap = progressJson ? JSON.parse(progressJson) : {};
                
                // Custom schedule is stored as an array of day objects
                customSchedule = customJson ? JSON.parse(customJson) : [];
                
                return { savedProgressMap };
            } catch (error) {
                console.error("Error loading data from localStorage:", error);
                return { savedProgressMap: {} };
            }
        }

        /**
         * Saves the current progress map and custom schedule to localStorage.
         */
        function saveLocalData(progressMap, customDays) {
            try {
                localStorage.setItem(getProgressKey(), JSON.stringify(progressMap));
                localStorage.setItem(getCustomScheduleKey(), JSON.stringify(customDays));
            } catch (error) {
                console.error("Error saving data to localStorage:", error);
            }
        }

        /**
         * NEW: Downloads a JSON report of the user's progress and custom schedule.
         */
        window.downloadReport = function() {
            try {
                const progressJson = localStorage.getItem(getProgressKey());
                const customJson = localStorage.getItem(getCustomScheduleKey());

                const reportData = {
                    language: 'java',
                    reportGeneratedOn: new Date().toISOString(),
                    progress: progressJson ? JSON.parse(progressJson) : {},
                    customSchedule: customJson ? JSON.parse(customJson) : []
                };

                const jsonString = JSON.stringify(reportData, null, 2);
                const blob = new Blob([jsonString], { type: 'application/json' });
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = `dsa_roadmap_report_${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            } catch (error) {
                console.error("Error generating report:", error);
                alert("Could not generate the report. Please check the console for errors.");
            }
        }

        /**
         * NEW: Gets the start date from localStorage or sets it to today if not found.
         */
        function getOrSetStartDate() {
            let savedStartDate = localStorage.getItem(getStartDateKey());
            if (!savedStartDate) {
                const today = new Date();
                // Format to YYYY-MM-DD
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const day = String(today.getDate()).padStart(2, '0');
                savedStartDate = `${year}-${month}-${day}`;
                localStorage.setItem(getStartDateKey(), savedStartDate);
            }
            startDateStr = savedStartDate;
        }

        // --- Utility Functions ---

        /**
         * Calculates the current day number in the schedule based on the start date.
         */
        function calculateCurrentScheduleDay() {
            if (!startDateStr) return 1; // Guard against uninitialized start date
            const today = new Date();
            today.setHours(0, 0, 0, 0); 
            const startDate = new Date(startDateStr);
            startDate.setHours(0, 0, 0, 0); 

            const diffTime = today.getTime() - startDate.getTime();
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            const currentDay = diffDays + 1;
            
            return Math.max(1, currentDay); 
        }

        /**
         * Resets all progress by clearing localStorage entries.
         */
        window.resetProgress = function() {
            window.hideResetModal();
            document.getElementById('status-message').classList.remove('hidden');
            document.getElementById('status-text').textContent = "Resetting progress...";

            localStorage.removeItem(getProgressKey());
            localStorage.removeItem(getCustomScheduleKey());
            localStorage.removeItem(getStartDateKey()); // Also reset the start date
            
            // Reset local memory state
            customSchedule = [];

            // Reload the app to reflect the reset
            loadScheduleProgress(); 
            
            document.getElementById('status-text').textContent = "Progress and custom schedule successfully reset.";
            setTimeout(() => document.getElementById('status-message').classList.add('hidden'), 3000);
        }
        
        /**
         * Saves the custom schedule data to localStorage.
         */
        window.saveCustomSchedule = async function(event) {
            event.preventDefault();
            
            const form = document.getElementById('schedule-form');
            const daySections = form.querySelectorAll('.day-section');
            const newCustomDays = [];
            let isValid = true;
            
            daySections.forEach(section => {
                const dayInput = section.querySelector('input[name="day-number"]');
                const titleInput = section.querySelector('input[name="day-title"]');
                const tasksContainer = section.querySelector('.tasks-container');
                const taskRows = tasksContainer.querySelectorAll('.task-row');
                
                const day = parseInt(dayInput.value);
                const title = titleInput.value.trim();

                if (!day || !title) {
                    // Replaced alert()
                    document.getElementById('status-text').textContent = `Error: Day ${day || '[Missing]'} or Title is empty.`;
                    document.getElementById('status-message').classList.remove('hidden');
                    setTimeout(() => document.getElementById('status-message').classList.add('hidden'), 5000);

                    isValid = false;
                    return;
                }
                
                const tasks = [];
                taskRows.forEach(row => {
                    const desc = row.querySelector('input[name="task-desc"]').value.trim();
                    const type = row.querySelector('select[name="task-type"]').value;
                    const link = row.querySelector('input[name="task-link"]').value.trim();
                    const resource = row.querySelector('input[name="task-resource"]').value.trim();
                    
                    if (desc) {
                        tasks.push({ desc, type, link, resource });
                    }
                });

                if (tasks.length > 0) {
                    newCustomDays.push({ day, title, tasks, note: "" }); 
                }
            });

            if (!isValid) return;
            
            // Update local memory state for custom schedule
            customSchedule = newCustomDays;
            
            // Get the current progress map (which is not affected by custom schedule changes, only task completion)
            const { savedProgressMap } = loadLocalData();
            // Save custom schedule and the existing progress map
            saveLocalData(savedProgressMap, customSchedule);
            
            window.hideCustomizeModal();
            document.getElementById('status-text').textContent = "Custom schedule saved successfully! UI updating...";
            document.getElementById('status-message').classList.remove('hidden');
            setTimeout(() => document.getElementById('status-message').classList.add('hidden'), 3000);
            
            loadScheduleProgress(); // Reload the merged schedule to reflect changes
        }
        
        /**
         * Saves the completion status of a single task to localStorage.
         */
        async function saveTaskCompletion(day, taskIndex, isCompleted) {
            // 1. Update the local mergedSchedule state
            const dayEntry = mergedSchedule.find(d => d.day === day);

            if (!dayEntry) {
                console.error(`Attempted to save progress for non-existent Day ${day}`);
                return;
            }
            
            // Find the task in the mergedSchedule and update its completion status
            const taskToSave = dayEntry.tasks[taskIndex];
            if (taskToSave) {
                taskToSave.completed = isCompleted;
            }
            
            // 2. Rebuild the progress map from mergedSchedule for saving
            const progressMap = mergedSchedule.reduce((map, d) => {
                // Only save tasks and note (minimal progress info)
                map[d.day] = { 
                    day: d.day, 
                    tasks: d.tasks.map(t => ({ completed: t.completed })),
                    note: d.note || "" 
                };
                return map;
            }, {});

            // 3. Save to local storage
            saveLocalData(progressMap, customSchedule);
            
            // 4. Update Dashboard (UI update handled by calling this)
            calculateAndRenderDashboard();
        }

        let noteSaveTimer; // Timer for debouncing note saves

        /**
         * Saves the note for a specific day to localStorage.
         */
        window.saveDayNote = function(day) {
            const textarea = document.getElementById(`day-note-${day}`);
            const note = textarea.value;
            
            // Update local state (mergedSchedule)
            const dayEntry = mergedSchedule.find(d => d.day === day);
            if (dayEntry) {
                dayEntry.note = note;
            } else {
                 console.error(`Attempted to save note for non-existent Day ${day}`);
                 return;
            }

            // Debounce the save operation
            clearTimeout(noteSaveTimer);
            noteSaveTimer = setTimeout(() => {
                // Rebuild the progress map from mergedSchedule for saving
                const progressMap = mergedSchedule.reduce((map, d) => {
                    map[d.day] = { 
                        day: d.day, 
                        tasks: d.tasks.map(t => ({ completed: t.completed })),
                        note: d.note || "" 
                    };
                    return map;
                }, {});
                
                saveLocalData(progressMap, customSchedule);
                // Console log is fine here, no need for UI status update on every note save
            }, 1000); 
        }

        /**
         * Loads the full schedule structure and merges it with local progress data.
         */
        function loadScheduleProgress() {
            const { savedProgressMap } = loadLocalData();
            
            // Select the base schedule based on the current language
            const baseSchedule = schedule_java;

            // Merge Default (Language-specific) and Custom Schedules
            let tempMerged = [...baseSchedule]; 
            
            // 1. Incorporate custom days
            customSchedule.forEach(customDay => {
                 const index = tempMerged.findIndex(d => d.day === customDay.day);
                 if (index !== -1) {
                     // Override base day with custom day
                     tempMerged[index] = customDay;
                 } else {
                     // Add new custom day 
                     tempMerged.push(customDay);
                 }
            });
            
            // Sort by day number
            tempMerged.sort((a, b) => a.day - b.day);
            
            // 2. Merge Progress Status
            mergedSchedule = tempMerged.map(day => {
                const savedDayProgress = savedProgressMap[day.day];
                
                let finalTasks = day.tasks.map(task => ({ ...task, completed: false }));
                
                if (savedDayProgress && savedDayProgress.tasks) {
                    finalTasks = day.tasks.map((task, index) => {
                        const savedTask = savedDayProgress.tasks[index];
                        return {
                            ...task,
                            completed: savedTask ? savedTask.completed || false : false
                        };
                    });
                }
                
                return { 
                    ...day, 
                    tasks: finalTasks, 
                    note: savedDayProgress?.note || day.note || "" 
                };
            });

            calculateAndRenderDashboard();
            renderSchedule(mergedSchedule);
            document.getElementById('status-message').classList.add('hidden');
        }
        
        /**
         * Calculates and updates the Progress Dashboard and Streak Counter.
         */
        function calculateAndRenderDashboard() {
            const currentDayNumber = calculateCurrentScheduleDay();

            let totalTasksAll = 0;
            let completedTasksAll = 0;
            let currentStreak = 0;
            
            // 1. Calculate Total Progress
            mergedSchedule.forEach(dayEntry => {
                totalTasksAll += dayEntry.tasks.length;
                completedTasksAll += dayEntry.tasks.filter(t => t.completed).length;
            });
            
            // 2. Calculate Streak 
            let consecutiveCompleteDays = 0;

            for (let i = currentDayNumber - 1; i >= 0; i--) {
                const dayEntry = mergedSchedule.find(d => d.day === i + 1);
                
                if (!dayEntry) {
                    break; 
                }

                const isDayComplete = dayEntry.tasks.length > 0 && dayEntry.tasks.every(t => t.completed);

                if (i + 1 < currentDayNumber) {
                    if (isDayComplete) {
                        consecutiveCompleteDays++;
                    } else {
                        consecutiveCompleteDays = 0;
                        break; 
                    }
                } else if (i + 1 === currentDayNumber) {
                    if (isDayComplete) {
                        consecutiveCompleteDays++;
                    }
                }
            }
            
            currentStreak = consecutiveCompleteDays;

            // 3. Render Dashboard
            const completionRate = totalTasksAll > 0 ? (completedTasksAll / totalTasksAll * 100).toFixed(0) : 0;
            
            document.getElementById('total-progress-text').textContent = `${completionRate}%`;
            document.getElementById('total-progress-count').textContent = `${completedTasksAll}/${totalTasksAll} Tasks`;
            document.getElementById('current-streak').textContent = currentStreak;
            document.getElementById('days-scheduled').textContent = mergedSchedule.length;
            
            // 4. Render Progress Ring
            const progressArc = document.getElementById('progress-ring-arc');
            if (progressArc) {
                const offset = CIRCUMFERENCE - (completionRate / 100) * CIRCUMFERENCE;
                progressArc.style.strokeDasharray = CIRCUMFERENCE;
                progressArc.style.strokeDashoffset = offset;
            }
        }


        
        // --- Customization UI Logic (Helper functions removed for brevity, keeping only renderSettingsForm) ---
        
        window.showCustomizeModal = function() {
            document.getElementById('customize-modal').style.display = 'flex';
            renderSettingsForm();
        }

        window.hideCustomizeModal = function() {
            document.getElementById('customize-modal').style.display = 'none';
        }
        
        function updateCustomizationControls() {
            const container = document.getElementById('days-container');
            const daySections = container.querySelectorAll('.day-section');
            const addButton = document.getElementById('add-day-btn');
            const limitMessage = document.getElementById('customize-limit-message');
            
            if (!addButton || !limitMessage) return; 
            
            const currentCount = daySections.length;
            
            if (currentCount >= MAX_CUSTOM_DAYS) {
                addButton.disabled = true;
                addButton.classList.add('opacity-50', 'cursor-not-allowed');
                limitMessage.classList.remove('hidden');
            } else {
                addButton.disabled = false;
                addButton.classList.remove('opacity-50', 'cursor-not-allowed');
                limitMessage.classList.add('hidden');
            }
        }


        function renderSettingsForm() {
            const container = document.getElementById('days-container');
            container.innerHTML = '';
            
            // Load the user's actual saved custom days into the form.
            if (customSchedule.length > 0) {
                customSchedule.forEach(dayData => {
                    window.addDaySection(dayData.day, dayData.title, dayData.tasks);
                });
            } else {
                // If there are no custom days, show one blank "Add New Day" section to start.
                window.addDaySection(null, "New Topic / Custom Day", []);
            }
            
            updateCustomizationControls(); 
        }
        
        function getTaskRowHTML(desc = '', type = 'Video', link = '', resource = '') {
            const rowId = `task-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;
            return `
                <div class="task-row flex flex-col md:flex-row gap-2 bg-gray-50 p-3 rounded-lg border border-gray-200" data-row-id="${rowId}">
                    <input type="text" name="task-desc" placeholder="Task Description (e.g., Reverse String using Stack)" value="${desc}" class="flex-1 p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm">
                    <select name="task-type" class="p-2 border rounded-md text-sm w-32">
                        <option value="Video" ${type === 'Video' ? 'selected' : ''}>Video</option>
                        <option value="Article" ${type === 'Article' ? 'selected' : ''}>Article</option>
                        <option value="Easy Problem" ${type === 'Easy Problem' ? 'selected' : ''}>Easy Problem</option>
                        <option value="Medium Problem" ${type === 'Medium Problem' ? 'selected' : ''}>Medium Problem</option>
                        <option value="Hard Problem" ${type === 'Hard Problem' ? 'selected' : ''}>Hard Problem</option>
                        <option value="Revision" ${type === 'Revision' ? 'selected' : ''}>Revision</option>
                        <option value="Break" ${type === 'Break' ? 'selected' : ''}>Break</option>
                        <option value="Practice" ${type === 'Practice' ? 'selected' : ''}>Practice</option>
                    </select>
                    <input type="text" name="task-resource" placeholder="Resource Name (e.g., NeetCode)" value="${resource}" class="w-32 p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm">
                    <input type="url" name="task-link" placeholder="Link (URL)" value="${link}" class="flex-1 p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm">
                    <button type="button" onclick="window.removeTaskRow(this)" class="p-2 bg-red-100 text-red-600 rounded-md hover:bg-red-200 transition text-sm flex-shrink-0 w-8 h-8 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v6a1 1 0 102 0V8z" clip-rule="evenodd" /></svg>
                    </button>
                </div>
            `;
        }
        
        window.addTaskRow = function(button) {
            const tasksContainer = button.closest('.day-section').querySelector('.tasks-container');
            tasksContainer.insertAdjacentHTML('beforeend', getTaskRowHTML());
        }

        window.removeTaskRow = function(button) {
            button.closest('.task-row').remove();
        }
        
        window.removeDaySection = function(button) {
            button.closest('.day-section').remove();
            updateCustomizationControls(); 
        }

        window.addDaySection = function(day = null, title = '', tasks = []) {
            const container = document.getElementById('days-container');
            const existingDaySections = container.querySelectorAll('.day-section');
            
            if (existingDaySections.length >= MAX_CUSTOM_DAYS && day === null) {
                return;
            }
            
            let nextDay = day;
            
            if (nextDay === null) {
                nextDay = ''; // Leave the day number blank for the user to fill in
                title = "New Topic / Custom Day"; 
            }

            const sectionId = `day-section-${nextDay}-${Date.now()}`;

            let tasksHTML = tasks.map(t => getTaskRowHTML(t.desc, t.type, t.link, t.resource)).join('');
            if (tasks.length === 0) { // If no tasks were provided (e.g., for a brand new day), add one empty task row.
                tasksHTML = getTaskRowHTML();
            }

            const html = `
                <div class="day-section bg-gray-100 p-5 rounded-xl shadow-lg border border-indigo-200" id="${sectionId}">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="text-xl font-bold text-indigo-600">Day Setup</h4>
                        <button type="button" onclick="window.removeDaySection(this)" class="text-red-500 hover:text-red-700 font-bold">
                            Remove Day
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <label class="block">
                            <span class="text-gray-700 text-sm font-medium">Day Number (e.g., 45)</span>
                            <input type="number" name="day-number" value="${nextDay || ''}" min="1" class="mt-1 block w-full p-2 border rounded-md text-base bg-white" required>
                        </label>
                        <label class="block col-span-2">
                            <span class="text-gray-700 text-sm font-medium">Day Title (e.g., Graphs and Heaps)</span>
                            <input type="text" name="day-title" value="${title}" class="mt-1 block w-full p-2 border rounded-md text-base bg-white" required>
                        </label>
                    </div>

                    <div class="mb-4">
                        <h5 class="text-lg font-semibold text-gray-700 mb-2">Tasks for Day ${nextDay || '...'}</h5>
                        <div class="tasks-container space-y-2">
                            ${tasksHTML}
                        </div>
                    </div>
                    
                    <div class="text-right">
                        <button type="button" onclick="window.addTaskRow(this)" class="px-3 py-1 bg-gray-300 text-gray-800 text-sm font-semibold rounded-lg hover:bg-gray-400 transition">
                            + Add Task
                        </button>
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', html);
            updateCustomizationControls(); 
        }

        // --- UI Rendering and Interaction ---

    /*
     * Visual overrides (CSS-like) applied via inline styles added in the <head> earlier
     * Note: We do not modify JavaScript logic. Styles below will work with the generated DOM.
     */

        function renderSchedule(data) {
            const listContainer = document.getElementById('schedule-list');
            listContainer.innerHTML = '';
            const currentScheduleDay = calculateCurrentScheduleDay();

            data.forEach(dayEntry => {
                const dayProgress = dayEntry.tasks.filter(t => t.completed).length;
                const totalTasks = dayEntry.tasks.length;
                const progressPercentage = (dayProgress / totalTasks) * 100;
                const isDayComplete = totalTasks > 0 && dayProgress === totalTasks;
                const isCurrentDay = dayEntry.day === currentScheduleDay;
                
                let dayCardClasses = `bg-white dark:bg-gray-800 p-4 md:p-6 rounded-2xl transition duration-300 hover:shadow-xl `;
                if (isCurrentDay) {
                    dayCardClasses += 'current-day border-l-8 border-emerald-500 shadow-2xl'; 
                } else if (isDayComplete) {
                    dayCardClasses += 'shadow-md border-l-8 border-teal-500'; 
                } else {
                    dayCardClasses += 'shadow-md border-l-8 border-blue-500'; 
                }

                const dayCard = document.createElement('div');
                dayCard.className = dayCardClasses;
                
                const currentDayTag = isCurrentDay ? 
                    `<span class="ml-3 px-3 py-1 bg-emerald-500 text-white text-xs font-extrabold rounded-full shadow-lg">TODAY (Day ${dayEntry.day})</span>` : 
                    (dayEntry.day < currentScheduleDay && !isDayComplete) ?
                    `<span class="ml-3 px-3 py-1 bg-orange-500 text-white text-xs font-extrabold rounded-full shadow-lg">Past Due</span>` : 
                    (isDayComplete) ?
                    `<span class="ml-3 px-3 py-1 bg-teal-500 text-white text-xs font-extrabold rounded-full shadow-lg">COMPLETE</span>` :
                    '';

                const cardHeaderColor = isCurrentDay ? 'text-emerald-700' : isDayComplete ? 'text-teal-700' : 'text-blue-700';
                const progressBarColor = isDayComplete ? 'bg-green-500' : 'bg-blue-600';


                dayCard.innerHTML = `
                    <div class="flex justify-between items-center mb-4 border-b pb-3 border-gray-100">
                        <h2 class="text-xl md:text-2xl font-extrabold ${cardHeaderColor} flex items-center flex-wrap">
                            Day ${dayEntry.day}: ${dayEntry.title}
                            ${currentDayTag}
                        </h2>
                        <div class="text-md font-semibold ${isDayComplete ? 'text-green-600' : 'text-gray-500 dark:text-gray-400'}">
                            ${dayProgress}/${totalTasks} Tasks
                        </div>
                    </div>
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mb-4 overflow-hidden">
                        <div class="progress-bar-inner ${progressBarColor}" style="width: ${progressPercentage}%;"></div>
                    </div>
                    
                    <ul class="space-y-2 pt-2 mb-4">
                        ${dayEntry.tasks.map((task, index) => `
                            <li class="p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-100 dark:border-gray-700 transition-colors duration-200 hover:bg-blue-50/50 dark:hover:bg-gray-700">
                                <label for="day-${dayEntry.day}-task-${index}" class="flex items-center cursor-pointer group">
                                    <!-- Custom Checkbox -->
                                    <div class="w-5 h-5 flex-shrink-0 mr-4 border-2 border-gray-300 dark:border-gray-500 rounded-md flex items-center justify-center transition-all duration-200 group-hover:border-indigo-400 peer-checked:bg-emerald-500 peer-checked:border-emerald-500">
                                        <input type="checkbox" id="day-${dayEntry.day}-task-${index}"
                                            data-day="${dayEntry.day}"
                                            data-index="${index}"
                                            ${task.completed ? 'checked' : ''}
                                            class="opacity-0 absolute w-5 h-5 cursor-pointer peer">
                                        <!-- Checkmark SVG -->
                                        <svg class="hidden w-4 h-4 text-white peer-checked:block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                                    </div>
                                    <div class="flex-1 text-gray-800 dark:text-gray-300 peer-checked:line-through peer-checked:text-gray-500 dark:peer-checked:text-gray-400 transition-colors duration-200">
                                    <span class="text-base">${task.desc}</span>
                                    <div class="flex items-center space-x-3 text-xs mt-1">
                                        <!-- Resource Tag -->
                                        <span class="px-2 py-0.5 rounded-full font-medium ${task.type.includes('Video') ? 'bg-red-100 text-red-700' : task.type.includes('Article') ? 'bg-indigo-100 text-indigo-700' : task.type.includes('Problem') || task.type.includes('Practice') ? 'bg-yellow-100 text-yellow-700' : task.type.includes('Break') ? 'bg-gray-200 text-gray-700' : 'bg-gray-200 text-gray-700'}">${task.type}</span>
                                        <!-- Link with Icon -->
                                        <a href="${task.link}" target="_blank" class="text-blue-600 hover:text-blue-800 font-semibold flex items-center">
                                            ${task.resource} 
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                            </svg>
                                        </a>
                                    </div>
                                </label>
                            </li>
                        `).join('')}
                    </ul>
                    
                    <!-- Daily Notes Section (Styled better) -->
                    <div class="mt-6 p-4 rounded-xl bg-indigo-50 dark:bg-gray-700 border border-indigo-200 dark:border-gray-600">
                        <h4 class="text-lg font-bold text-indigo-700 mb-2 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                            Daily Notes & Reflection
                        </h4>
                        <textarea id="day-note-${dayEntry.day}" 
                                     class="w-full p-3 border rounded-lg text-sm bg-white dark:bg-gray-800 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 h-24 resize-none dark:placeholder-gray-400" 
                                     placeholder="What did you learn today? Key concepts, edge cases, and time complexities for problems solved..."
                                     oninput="window.saveDayNote(${dayEntry.day})"
                        >${dayEntry.note || ''}</textarea>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Notes automatically save to the browser's local storage.</p>
                    </div>
                `;
                listContainer.appendChild(dayCard);
            });

            // Re-attach event listeners after rendering
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.onchange = handleTaskChange;
            });
            
            // Scroll to the current day if it exists
            const currentDayElement = document.querySelector('.current-day');
            if (currentDayElement) {
                currentDayElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        /**
         * Handles the checkbox change event and saves the progress.
         */
        function handleTaskChange(event) {
            const checkbox = event.target;
            const day = parseInt(checkbox.dataset.day);
            const index = parseInt(checkbox.dataset.index);
            const isCompleted = checkbox.checked;

            // Optimistically update the UI label
            // The UI update is now handled automatically by the peer-checked CSS classes.

            // Save the change to LocalStorage
            saveTaskCompletion(day, index, isCompleted);
        }

        // Initializer: Simplified for local mode
        function initializeLocalApp() {
            // Set user ID display to show local mode
            document.getElementById('user-id').textContent = 'Local Mode (No Login)';
            
            // Determine the start date for the roadmap
            getOrSetStartDate(); 

            // Kick off data loading
            loadScheduleProgress();

            // Set active button style without triggering a reload
            document.querySelector(`#language-toggle button[data-lang="${currentLanguage}"]`).click();
        }
        
        window.showResetModal = function() {
            document.getElementById('reset-modal').style.display = 'flex';
        }

        window.hideResetModal = function() {
            document.getElementById('reset-modal').style.display = 'none';
        }

        // --- Dark Mode Toggle Logic ---
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        const themeToggleBtn = document.getElementById('theme-toggle');

        function applyTheme() {
            const isDarkMode = localStorage.getItem('theme') === 'dark' || 
                               (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);

            if (isDarkMode) {
                document.documentElement.classList.add('dark');
                themeToggleLightIcon.classList.remove('hidden');
                themeToggleDarkIcon.classList.add('hidden');
            } else {
                document.documentElement.classList.remove('dark');
                themeToggleDarkIcon.classList.remove('hidden');
                themeToggleLightIcon.classList.add('hidden');
            }
        }

        themeToggleBtn.addEventListener('click', function() {
            const isDarkMode = document.documentElement.classList.contains('dark');
            if (isDarkMode) {
                localStorage.setItem('theme', 'light');
            } else {
                localStorage.setItem('theme', 'dark');
            }
            applyTheme();
        });

        // Start the application
        window.onload = function() {
            document.getElementById('status-message').classList.remove('hidden');
            document.getElementById('status-text').textContent = "Loading progress from local storage...";
            applyTheme(); // Apply theme on load

            // Initialize the app
            initializeLocalApp(); 
        };

        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>
</html>